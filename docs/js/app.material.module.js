import{World as e}from"../js-libs/ecsy.module.js";import{GameSystem as t,TransformSystem as s,Transform as o,MeshSystem as n,LightSystem as r,MaterialSystem as i,Camera as a,Mesh as p,Material as u,MeshTypes as m,Light as c,LightTypes as d}from"../js-libs/ecsy-babylon.module.js";class g extends e{constructor(){super()}get entities(){return this.entityManager._entities}get systems(){return this.systemManager._systems}get gameSystem(){return this.getSystem(t)}static instance(){return this._game||(this._game=new g),this._game}start(e,o,n){return this.registerSystem(t),this.registerSystem(s),o.forEach(e=>this.registerSystem(e)),this.gameSystem.start(e).addScene(n||"Scene1"),this}createEntity(){return super.createEntity().addComponent(o)}showDebugger(){this.gameSystem.getScene().debugLayer.show()}}const y=g.instance();y.start(document.getElementById("renderCanvas"),[n,r,i]),y.createEntity().addComponent(a).getMutableComponent(o).position.y=1.7,[{diffuse:"#E74C3C",z:3},{diffuse:"#3498DB",z:-3},{diffuse:"#27AE60",x:3},{diffuse:"#F1C40F",x:-3}].forEach(e=>{const t=y.createEntity().addComponent(p).addComponent(u,{color:{diffuse:e.diffuse}});e.x&&(t.getComponent(o).position.x=e.x),t.getComponent(o).position.y=.5,e.z&&(t.getComponent(o).position.z=e.z)}),y.createEntity().addComponent(p,{type:m.Ground,options:{width:8,height:8}}).addComponent(u,{texture:{diffuse:{url:"https://i0.wp.com/www.sharetextures.com/wp-content/uploads/2019/04/wood_parquet_2-diffuse-1.jpg",uScale:4,vScale:4},specular:{url:"https://i2.wp.com/www.sharetextures.com/wp-content/uploads/2019/04/wood_parquet_2-specular-1.jpg",uScale:4,vScale:4},bump:{url:"https://i2.wp.com/www.sharetextures.com/wp-content/uploads/2019/04/wood_parquet_2-normal-1.jpg",uScale:4,vScale:4}}});const l=y.createEntity().addComponent(c,{type:d.Point,color:{diffuse:"#AAFFAA"}});l.getMutableComponent(c).intensity=1.5,l.getMutableComponent(o).position.y=2;
