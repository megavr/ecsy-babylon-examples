import{World as t}from"../js-libs/ecsy.module.js";import{GameSystem as e,TransformSystem as n,CameraSystem as s,Transform as o,Scene as r,MeshSystem as a,LightSystem as i,AssetSystem as m,Camera as c,Asset as y,Light as g}from"../js-libs/ecsy-babylon.module.js";class u extends t{constructor(){super()}get entities(){return this.entityManager._entities}get systems(){return this.systemManager._systems}get gameSystem(){return this.getSystem(e)}static instance(){return this._game||(this._game=new u),this._game}start(t,o){return this.registerSystem(e).registerSystem(n).registerSystem(s),o.forEach(t=>this.registerSystem(t)),this.gameSystem.start(t),this}createEntity(){return super.createEntity().addComponent(o)}createScene(t){return super.createEntity().addComponent(r,{color:t})}showDebugger(){this.gameSystem.activeScene.debugLayer.show()}}const l=u.instance();l.start(document.getElementById("renderCanvas"),[a,i,m]),l.createScene(),l.createEntity().addComponent(c).getMutableComponent(o).position.y=1.7;const b=l.createEntity().addComponent(y,{url:"https://raw.githubusercontent.com/BabylonJS/Babylon.js/master/Playground/scenes/Rabbit.babylon"});b.getMutableComponent(o).position.z=5,b.getMutableComponent(o).rotation.y=180,b.getMutableComponent(o).scale.x=.05,b.getMutableComponent(o).scale.y=.05,b.getMutableComponent(o).scale.z=.05;const p=l.createEntity().addComponent(g);p.getMutableComponent(g).direction.y=2,p.getMutableComponent(g).intensity=2;
