import{World as e}from"../js-libs/ecsy.module.js";import{GameSystem as t,TransformSystem as s,CameraSystem as n,Transform as r,Scene as o,MeshSystem as a,LightSystem as i,Camera as m,Mesh as c,Light as y}from"../js-libs/ecsy-babylon.module.js";class g extends e{constructor(){super()}get entities(){return this.entityManager._entities}get systems(){return this.systemManager._systems}get gameSystem(){return this.getSystem(t)}static instance(){return this._game||(this._game=new g),this._game}start(e,r){return this.registerSystem(t).registerSystem(s).registerSystem(n),r.forEach(e=>this.registerSystem(e)),this.gameSystem.start(e),this}createEntity(){return super.createEntity().addComponent(r)}createScene(e){return super.createEntity().addComponent(o,{color:e})}showDebugger(){this.gameSystem.activeScene.debugLayer.show()}}const u=g.instance();u.start(document.getElementById("renderCanvas"),[a,i]),u.createScene(),u.createEntity().addComponent(m).getMutableComponent(r).position.y=1.7;const d=u.createEntity().addComponent(c);d.getMutableComponent(r).position.z=3,d.getMutableComponent(r).rotation.y=45,d.getMutableComponent(r).scale.y=2,u.createEntity().addComponent(y).getMutableComponent(y).direction.y=1,window.game=u;
