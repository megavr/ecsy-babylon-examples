import{World as e}from"../js-libs/ecsy.module.js";import{GameSystem as t,TransformSystem as s,CameraSystem as n,Transform as a,MeshSystem as o,LightSystem as r,MaterialSystem as c,InputSystem as m,Camera as i,Light as p,Mesh as u,MeshTypes as d,Material as l,Input as g}from"../js-libs/ecsy-babylon.module.js";class y extends e{constructor(){super()}get entities(){return this.entityManager._entities}get systems(){return this.systemManager._systems}get gameSystem(){return this.getSystem(t)}static instance(){return this._game||(this._game=new y),this._game}start(e,a,o){return this.registerSystem(t).registerSystem(s).registerSystem(n),a.forEach(e=>this.registerSystem(e)),this.gameSystem.start(e).addScene(o||"Scene1"),this}createEntity(){return super.createEntity().addComponent(a)}showDebugger(){this.gameSystem.getScene().debugLayer.show()}}var w;!function(e){e.T="TigerRoom",e.Z="ZebraRoom"}(w||(w={}));const h=y.instance();function S(e,t){if(t)switch(e){case"t":case"T":h.gameSystem.activeSceneName!==w.T&&h.gameSystem.switchScene(w.T);break;case"z":case"Z":h.gameSystem.activeSceneName!==w.Z&&h.gameSystem.switchScene(w.Z)}}h.start(document.getElementById("renderCanvas"),[o,r,c,m],w.T),h.createEntity().addComponent(i,{sceneName:w.T}).getMutableComponent(a).position.y=1.7,h.createEntity().addComponent(p,{sceneName:w.T}).getMutableComponent(p).direction.y=1,h.createEntity().addComponent(u,{sceneName:w.T,type:d.Ground,options:{width:10,height:10}}).addComponent(l,{sceneName:w.T,texture:{diffuse:{url:"https://i0.wp.com/www.sharetextures.com/wp-content/uploads/2018/09/PBR-Leopard_skin-diffuse-.jpg?ssl=1",uScale:5,vScale:5},bump:{url:"https://i1.wp.com/www.sharetextures.com/wp-content/uploads/2018/09/PBR-Leopard_skin-normal-.jpg?ssl=1",uScale:5,vScale:5},specular:{url:"https://i2.wp.com/www.sharetextures.com/wp-content/uploads/2018/09/PBR-Leopard_skin-specular-.jpg?ssl=1",uScale:5,vScale:5}}}),h.createEntity().addComponent(g,{sceneName:w.T,onKey:S}),h.gameSystem.addScene(w.Z),h.createEntity().addComponent(i,{sceneName:w.Z,pointerLock:!0}).getMutableComponent(a).position.y=1.7,h.createEntity().addComponent(p,{sceneName:w.Z}).getMutableComponent(p).direction.y=1,h.createEntity().addComponent(u,{sceneName:w.Z,type:d.Ground,options:{width:10,height:10}}).addComponent(l,{sceneName:w.Z,texture:{diffuse:{url:"https://i0.wp.com/www.sharetextures.com/wp-content/uploads/2018/09/zebra_skin.jpg-diffuse.jpg?ssl=1",uScale:5,vScale:5},bump:{url:"https://i2.wp.com/www.sharetextures.com/wp-content/uploads/2018/09/zebra_skin.jpg-normal.jpg?ssl=1",uScale:5,vScale:5},specular:{url:"https://i1.wp.com/www.sharetextures.com/wp-content/uploads/2018/09/zebra_skin.jpg-specular.jpg?ssl=1",uScale:5,vScale:5}}}),h.createEntity().addComponent(g,{sceneName:w.Z,onKey:S});
