import{World as e}from"../js-libs/ecsy.module.js";import{GameSystem as t,TransformSystem as s,Transform as n,MeshSystem as a,LightSystem as o,MaterialSystem as r,InputSystem as c,Camera as m,Light as i,Mesh as p,MeshTypes as u,Material as d,Input as l,InputTypes as y}from"../js-libs/ecsy-babylon.module.js";class g extends e{constructor(){super()}get entities(){return this.entityManager._entities}get systems(){return this.systemManager._systems}get gameSystem(){return this.getSystem(t)}static instance(){return this._game||(this._game=new g),this._game}start(e,n,a){return this.registerSystem(t),this.registerSystem(s),n.forEach(e=>this.registerSystem(e)),this.gameSystem.start(e).addScene(a||"Scene1"),this}createEntity(){return super.createEntity().addComponent(n)}showDebugger(){this.gameSystem.getScene().debugLayer.show()}}var w;!function(e){e.T="TigerRoom",e.Z="ZebraRoom"}(w||(w={}));const h=g.instance();h.start(document.getElementById("renderCanvas"),[a,o,r,c],w.T);const S=h.createEntity().addComponent(m,{sceneName:w.T});S.getMutableComponent(n).position.y=1.7,h.createEntity().addComponent(i,{sceneName:w.T}).getMutableComponent(i).direction.y=1,h.createEntity().addComponent(p,{sceneName:w.T,type:u.Ground,options:{width:10,height:10}}).addComponent(d,{sceneName:w.T,texture:{diffuse:{url:"https://i0.wp.com/www.sharetextures.com/wp-content/uploads/2018/09/PBR-Leopard_skin-diffuse-.jpg?ssl=1",uScale:5,vScale:5},bump:{url:"https://i1.wp.com/www.sharetextures.com/wp-content/uploads/2018/09/PBR-Leopard_skin-normal-.jpg?ssl=1",uScale:5,vScale:5},specular:{url:"https://i2.wp.com/www.sharetextures.com/wp-content/uploads/2018/09/PBR-Leopard_skin-specular-.jpg?ssl=1",uScale:5,vScale:5}}}),h.createEntity().addComponent(l,{sceneName:w.T,type:y.Keyboard,onKey:C}),h.gameSystem.addScene(w.Z);const b=h.createEntity().addComponent(m,{sceneName:w.Z});function C(e,t){t&&("t"===e&&h.gameSystem.activeSceneName!==w.T?h.gameSystem.switchScene(w.T,S):"z"===e&&h.gameSystem.activeSceneName!==w.Z&&h.gameSystem.switchScene(w.Z,b))}b.getMutableComponent(n).position.y=1.7,h.createEntity().addComponent(i,{sceneName:w.Z}).getMutableComponent(i).direction.y=1,h.createEntity().addComponent(p,{sceneName:w.Z,type:u.Ground,options:{width:10,height:10}}).addComponent(d,{sceneName:w.Z,texture:{diffuse:{url:"https://i0.wp.com/www.sharetextures.com/wp-content/uploads/2018/09/zebra_skin.jpg-diffuse.jpg?ssl=1",uScale:5,vScale:5},bump:{url:"https://i2.wp.com/www.sharetextures.com/wp-content/uploads/2018/09/zebra_skin.jpg-normal.jpg?ssl=1",uScale:5,vScale:5},specular:{url:"https://i1.wp.com/www.sharetextures.com/wp-content/uploads/2018/09/zebra_skin.jpg-specular.jpg?ssl=1",uScale:5,vScale:5}}}),h.createEntity().addComponent(l,{sceneName:w.Z,type:y.Keyboard,onKey:C});
