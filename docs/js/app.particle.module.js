import{World as t}from"../js-libs/ecsy.module.js";import{GameSystem as e,TransformSystem as s,Transform as o,MeshSystem as n,LightSystem as a,MaterialSystem as r,ParticleSystem as i,Camera as p,Particle as l,Mesh as c,MeshTypes as u,Material as m,Light as g,LightTypes as w}from"../js-libs/ecsy-babylon.module.js";class y extends t{constructor(){super()}get entities(){return this.entityManager._entities}get systems(){return this.systemManager._systems}get gameSystem(){return this.getSystem(e)}static instance(){return this._game||(this._game=new y),this._game}start(t,o,n){return this.registerSystem(e),this.registerSystem(s),o.forEach(t=>this.registerSystem(t)),this.gameSystem.start(t).addScene(n||"Scene1"),this}createEntity(){return super.createEntity().addComponent(o)}showDebugger(){this.gameSystem.getScene().debugLayer.show()}}const d=y.instance();d.start(document.getElementById("renderCanvas"),[n,a,r,i]),d.createEntity().addComponent(p).getMutableComponent(o).position.y=1.7,d.createEntity().addComponent(l,{texture:{particle:{url:"https://raw.githubusercontent.com/BabylonJS/Babylon.js/master/assets/particles/textures/explosion/Flare.png"}}});const h=d.createEntity().addComponent(c,{type:u.Ground,options:{width:10,height:10}}).addComponent(m,{texture:{diffuse:{url:"https://i1.wp.com/www.sharetextures.com/wp-content/uploads/2018/10/PBR-tactile_paving.jpg-diffuse-.jpg?ssl=1",uScale:5,vScale:5},bump:{url:"https://i2.wp.com/www.sharetextures.com/wp-content/uploads/2018/10/PBR-tactile_paving.jpg-normal-.jpg?ssl=1",uScale:5,vScale:5},specular:{url:"https://i0.wp.com/www.sharetextures.com/wp-content/uploads/2018/10/PBR-tactile_paving.jpg-specular-.jpg?ssl=1",uScale:5,vScale:5}}});h.getMutableComponent(o).position.x=5,h.getMutableComponent(o).position.z=5,[{x:5,y:5,z:10},{x:10,y:5,z:5,ry:90}].forEach(t=>{const e=d.createEntity().addComponent(c,{type:u.Plane,options:{width:10,height:10}}).addComponent(m,{texture:{diffuse:{url:"https://i0.wp.com/www.sharetextures.com/wp-content/uploads/2019/04/brick_wall_5-diffuse.jpg?ssl=1"},bump:{url:"https://i2.wp.com/www.sharetextures.com/wp-content/uploads/2019/04/brick_wall_5-normal.jpg?ssl=1"},specular:{url:"https://i2.wp.com/www.sharetextures.com/wp-content/uploads/2019/04/brick_wall_5-specular.jpg?ssl=1"}}});t.x&&(e.getMutableComponent(o).position.x=t.x),t.y&&(e.getMutableComponent(o).position.y=t.y),t.z&&(e.getMutableComponent(o).position.z=t.z),t.ry&&(e.getMutableComponent(o).rotation.y=t.ry)});const b=d.createEntity().addComponent(g,{type:w.Point});b.getMutableComponent(o).position.x=5,b.getMutableComponent(o).position.y=5,b.getMutableComponent(o).position.z=5;
